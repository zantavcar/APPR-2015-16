---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Žan Tavčar"
output:
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
  html_document: default
  word_document: default
---

```{r setup, echo=FALSE, results='hide', message=FALSE,warning=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding = "UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```


# Izbira teme

Analiziral bom prošnje za azil v letošnjem letu v državah EU ter številke primerjal z lanskimi. Zanime me sestava migrantov, kje jih je največ zaprosilo za azil ter kako se migrantska kriza lahko primerja z balkansko po letu 1990.

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE}
source("uvoz/uvoz.r", encoding = "UTF-8",message=FALSE)
```

Podatke sem črpal iz Eurostata za tabele o številu prošenj za azil (obsežna tabela), spolu azilantov, njihobi starosti ter državljanstvu. Drugi vir je bil Wikipedia, kjer sem uvažal iz strani "https://en.wikipedia.org/wiki/Area_and_population_of_European_countries".



Tabela Prosnje2015 prikazuje število vseh prošenj za azil v vseh državah članicah EU, dodal sem še Švico, ki nosi nezanemarljiv del bremena migrantske krize. Na Eurostatu so podatki o prošnjah za azil objavljeni do vkjučno novembra letos. Da je stvar nekoliko bolj pregledna, sem mesece strnil na četrtletja (torej prvo, drugo in tretje četrtletje) ter primerjal prirast prošenj glede na prejšnje četrtletje (za vsako državo je v odstotkih izračunana realna rast prošenj za azil). Zanimalo me je tudi, katera država ima največ prošenj, za vsako državo EU območja sem poračunal delež prošenj. Ker pa absoluten delež prošenj mogoče ni najbolj relavanten pokazatelj, sem izrazil še število prošenj na miljon prebivalcev v določeni državi (tu sem koristil število prebivalcev v državah EU), ki je mogoče nekoliko boljši pokazatelj migrantske krize v državi. Zanimivo je, da ima največ prošenj na milijon prebivalstva Madžarska, ki ji v prvih treh četrtletjih, kljub populistični desno usmerjeni vladi in mnogim ukrepom te številke ni moralo zmanjšati.


Za prva tri četrtletja je na Eurostatu objavljen podatek rezultatov prošenj za azil. Prosilci lahko pridobijo naslednje statuse:
->Odobrena prošnja (Ženevski ali humanitarni status)
->Zavrjena prošnja
Posebej zanimivo bo videti, če bo procent odobrenih prošenj za azil v četrtem četrtletju zaradi napada v Parizu padel.

Poleg analize evropskih držav in njihovega delovanja v migrantski krizi, sem se odločil, da analiziram še prosilce za azil. Ločeno sem obravnaval njihovo starost, (opazimo da prevladujejo osebe med 18 in 34 letom starosti), spolu (moških je kar štirikrat toliko kot žensk!) ter državljanstvo, pričakovano je največ Sirijcev, sledijo Afganistanci in Iračani. Pri analizah o spolu in starosti sem obravlaval le države iz katerih je naval največji - to so Sirija, Afganistan, Irak, Eritreja, Albanija, Kosovo in Srbija.




```{r razpredelnice}

```

Zgoraj je 
Slika \ref{fig:histogram} prikazuje porazdelitev števila naselij v občinah.

```{r histogram, echo=FALSE, fig.align='center', fig.cap='Histogram števila naselij v občinah'}
hist(obcine[,4], main = "Pogostost števila naselij",
     xlab = "Število naselij", ylab = "Število občin")
```

***

# Analiza in vizualizacija podatkov

```{r vizualizacija, echo=FALSE}
source("vizualizacija/vizualizacija.r", encoding = "UTF-8")
```

Slika \ref{fig:zemljevid} prikazuje povprečno velikost družine za vsako občino.

***

# Napredna analiza podatkov

```{r analiza, echo=FALSE}
source("analiza/analiza.r", encoding = "UTF-8")
```

Slika \ref{fig:graf} prikazuje povezavo med številom naselij in površino občine.

```{r graf, echo=FALSE, fig.align='center', fig.cap='Povezava med številom naselij in površino občine'}
plot(obcine[[1]], obcine[[4]],
     main = "Število naselij glede na površino občine",
     xlab = expression("Površina (km"^2 * ")"),
     ylab = "Št. naselij",
     col = barve[obcine[[7]]],
     pch = 18)
legend("topright", legend = names(barve), col = barve,
       pch = 18, cex = 0.5, bg = "white")
```

***